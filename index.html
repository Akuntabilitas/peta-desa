<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Peta Interaktif Tagging</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>
</head>
<body>
  
  <div id="map"></div>
<div id="simple-nav" class="nav-breadcrumb"></div>
<div id="loading-spinner" class="spinner hidden"></div>

<button id="btn-export-nyasar">üíæ Download Titik Nyasar</button>

<div id="popup-export" class="popup-hidden">
  <div class="popup-content">
    <h3>Ekspor Titik Nyasar</h3>
    <label for="filter-kec">Pilih Kecamatan:</label>
    <select id="filter-kec">
      <option value="">Semua Kecamatan</option>
    </select>

    <label for="filter-desa">Pilih Desa:</label>
    <select id="filter-desa">
      <option value="">Semua Desa</option>
    </select>

    <button id="download-filtered">Download</button>
    <button id="close-popup">Tutup</button>
  </div>
</div>
  <div id="legend">
    <button id="back-btn">‚Üê Kembali</button>

    <select id="mode-select">
      <option value="wilayah">Tampil Berdasarkan Wilayah</option>
      <option value="petugas">Tampil Berdasarkan Petugas</option>
    </select>

    <div id="petugas-panel" style="display: none;">
      <label for="pml-select">PML:</label>
      <select id="pml-select"><option value="">Pilih PML</option></select>

      <label for="ppl-select">PPL:</label>
      <select id="ppl-select"><option value="">Pilih PPL</option></select>
    </div>

    <ul id="legend-list"></ul>
  </div>
<div id="kategori-toggle-container">
  <span class="toggle-label">Pilih Kategori:</span>
  <label class="switch">
    <input type="checkbox" id="toggle-kategori" />
    <span class="slider round"></span>
  </label>
  <span id="label-kategori">Batas Wilkerstat</span>
</div>

<style>
.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 24px;
}
.switch input { display: none; }
.slider {
  position: absolute;
  cursor: pointer;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: #ccc;
  transition: .4s;
  border-radius: 24px;
}
.slider:before {
  position: absolute;
  content: "";
  height: 18px; width: 18px;
  left: 3px; bottom: 3px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
}
input:checked + .slider {
  background-color: #2196F3;
}
input:checked + .slider:before {
  transform: translateX(26px);
}
</style>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
  <script src="https://unpkg.com/@turf/turf@6.5.0/turf.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
